webpackJsonp([20],{MLzI:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".text_css{color:#495060;font-size:12px;word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}","",{version:3,sources:["G:/WebStrom/elk-cloud-ui/src/views/modules/quartz/job/index.vue"],names:[],mappings:"AACA,UACE,cAAc,AACd,eAAgB,AAChB,oBAAoB,AACpB,mBAAmB,AACnB,gBAAgB,AAChB,sBAAuB,CACxB",file:"index.vue",sourcesContent:["\n.text_css{\n  color:#495060;\n  font-size: 12px;\n  word-break:keep-all;/* 不换行 */\n  white-space:nowrap;/* 不换行 */\n  overflow:hidden;/* 内容超出宽度时隐藏超出部分的内容 */\n  text-overflow:ellipsis;/* 当对象内文本溢出时显示省略标记(...) ；需与overflow:hidden;一起使用。*/\n}\n"],sourceRoot:""}])},PSPE:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container calendar-list-container",style:{height:e.$store.state.app.client.height+"px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"list"==e.showModule,expression:"showModule=='list'"}],staticStyle:{height:"100%"}},[a("el-card",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"关键词"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.getList(t)}},model:{value:e.listQuery.roleName,callback:function(t){e.$set(e.listQuery,"roleName",t)},expression:"listQuery.roleName"}}),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",icon:"search"},on:{click:e.getList}},[e._v("搜索")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,height:e.$store.state.app.client.height-215,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{staticClass:"selection",attrs:{type:"selection",align:"center",prop:"uuid"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"组织"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orgName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"bean名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.beanName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"方法名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.methodName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"text_css",attrs:{title:t.row.params}},[e._v(e._s(t.row.params))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"cron表达式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.cronExpression))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"任务状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){e.save(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.remark))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("subTime")(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.info(t.row)}}},[e._v("编辑\n            ")])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{staticStyle:{float:"left"},attrs:{"current-page":e.listQuery.page,background:"","page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}}),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.info()}}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"info"==e.showModule,expression:"showModule=='info'"}],staticStyle:{height:"100%"}},[a("el-card",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所属部门",prop:"orgId"}},[a("tree-select",{attrs:{url:"/upms/org/tree"},model:{value:e.form.orgId,callback:function(t){e.$set(e.form,"orgId",t)},expression:"form.orgId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"任务名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"bean名称",prop:"beanName"}},[a("el-input",{attrs:{placeholder:"bean名称"},model:{value:e.form.beanName,callback:function(t){e.$set(e.form,"beanName",t)},expression:"form.beanName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"方法名",prop:"methodName"}},[a("el-input",{attrs:{placeholder:"方法名"},model:{value:e.form.methodName,callback:function(t){e.$set(e.form,"methodName",t)},expression:"form.methodName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数",prop:"params"}},[a("el-input",{attrs:{placeholder:"参数"},model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"cronExpression"}},[a("span",{staticClass:"text_css",attrs:{slot:"label"},slot:"label"},[a("a",{attrs:{href:"http://www.pdtools.net/tools/becron.jsp",target:"_blank"}},[e._v("cron表达式:")])]),e._v(" "),a("el-input",{attrs:{placeholder:"cron表达式"},model:{value:e.form.cronExpression,callback:function(t){e.$set(e.form,"cronExpression",t)},expression:"form.cronExpression"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("el-switch",{attrs:{"active-value":"0","inactive-value":"1","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",[a("el-button",{on:{click:e.cancel}},[a("i",{staticClass:"el-icon-fa-undo"}),e._v(" 取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.update("form")}}},[e._v("保存")])],1)],1)],1)])},n=[],r={render:o,staticRenderFns:n};t.a=r},Xb7W:function(e,t,a){"use strict";function o(e){return Object(i.a)({url:"/quartz/job/getPage",method:"get",params:e})}function n(e){return Object(i.a)({url:"/quartz/job",method:"post",data:e})}function r(e){return Object(i.a)({url:"/quartz/job/"+e,method:"delete"})}function s(e){return Object(i.a)({url:"/quartz/job/update",method:"put",data:e})}function l(e){return Object(i.a)({url:"/quartz/job/"+e,method:"put"})}t.c=o,t.a=n,t.b=r,t.d=s,t.e=l;var i=a("vLgD")},ZZZi:function(e,t,a){var o=a("MLzI");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("1fa598f5",o,!0)},dd4N:function(e,t,a){"use strict";var o=a("Xb7W");t.a={name:"table_schedulejob",data:function(){return{schedulejob:{},list:[],total:null,listLoading:!0,showModule:"list",form:{status:"0"},rules:{orgId:[{required:!0,message:"所属部门",trigger:["blur","change"]}],name:[{required:!0,message:"任务名称",trigger:["blur","change"]}],beanName:[{required:!0,message:"bean名称",trigger:["blur","change"]}],methodName:[{required:!0,message:"方法名",trigger:["blur","change"]}],cronExpression:[{required:!0,message:"cron表达式",trigger:["blur","change"]}]},listQuery:{page:1,limit:20}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(o.c)(this.listQuery).then(function(t){e.list=t.data.data.list,e.total=t.data.data.totalCount,e.listLoading=!1})},save:function(e){var t=this;e.jobId?Object(o.d)(e).then(function(e){t.showModule="list",t.getList()}):Object(o.a)(e).then(function(e){t.showModule="list",t.getList()})},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},update:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.save(t.form)})},info:function(e){this.form={status:"0"},e&&(this.form=e),this.showModule="info"},runNow:function(e){var t=this;Object(o.e)(e).then(function(e){t.getList()})},delete:function(e){var t=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.b)(e).then(function(){t.getList()})})},cancel:function(){this.showModule="list"}}}},mq1o:function(e,t,a){"use strict";function o(e){a("ZZZi")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("dd4N"),r=a("PSPE"),s=a("VU/8"),l=o,i=s(n.a,r.a,!1,l,null,null);t.default=i.exports}});
//# sourceMappingURL=20.26cfea236fdc7e368a08.js.map